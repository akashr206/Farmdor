<style>
    #head-links {
        display: flex;
        flex: 1;
        justify-content: center;
    }

    @media (max-width:991px) {

        #logBtn {
            width: 80%;
            align-self: center;
        }

        li {
            margin: 10px 0;
        }
    }
</style>


<nav class="navbar header nav-underline navbar-expand-lg bg-body-tertiary " data-bs-theme="dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="/">
            <img src="/logos/farmdor.webp" class="logo" alt="logo"> FARMDOR</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarScroll"
            aria-controls="navbarScroll" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarScroll">
            <ul id="head-links" class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll"
                style="--bs-scroll-height: 220px;">
                <li class="nav-item">
                    <a class="nav-link <%= page === 'home' ? 'active' : '' %>" aria-current="page" href="/">Home</a>
                </li>
                <li class="nav-item">
                    <a href="/manageproducts" class="nav-link <%=page === 'products' ? 'active' : '' %>">Manage
                        Products</a>
                </li>
                <li class="nav-item">
                    <a href="/farmer/requests" class="nav-link <%=page === 'requests' ? 'active' : '' %>">Requests
                        </a>
                </li>
                <li class="nav-item">
                    <a href="/account" class="nav-link <%=page === 'account' ? 'active' : '' %>">Account</a>
                </li>
            </ul>
            <span style="width: 140px;">
                <input type="button" class="btn btn-outline-danger" id="logoutBtn" value="Logout">
            </span>
        </div>

    </div>
</nav>


<style>
    @media (min-width:990px) {
        #logBtn {
            justify-self: end;
        }
    }
</style>

<script>
    let logout = document.getElementById('logoutBtn')
    logout.addEventListener('click', async () => {
        let perm = confirm('Are you sure to Logout?')
        if (perm) {
            let response = await fetch('/api/auth/logout', {
                method: 'POST'
            })
            let data = await response.json()
            location.href ='/'
            alert(data.message)
        }
    })
</script>